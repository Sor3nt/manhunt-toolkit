<?php
namespace App\Tests\CompilerV2Level\LevelScripts;

use App\MHT;
use PHPUnit\Framework\TestCase;

class LevelScriptA07Test extends TestCase
{

    public function test()
    {


        $script = "
scriptmain LevelScript;

entity
	A07_Tolerance_Zone : et_level;

var
	LevelState : integer;
	Load : boolean;
	CurrentAmbientAudioTrack : integer;
	iInPornShop : integer;
	bDancerFlashbackInProgress : boolean;
	bHunterSurprised : boolean;

PROCEDURE SetDoorAngleInOut(DoorName : string; InAngle, OutAngle : real); FORWARD;
procedure SetupCrawlTriggers; forward;

script OnCreate;
var
	Save1, Save2 : EntityPtr;	
begin
	{scoring setup}
	{SetNumberOfKillableHuntersInLevel(11,9);}
	SetMaxScoreForLevel(38);
	
	{Set colouramp for normal Danny}
	SetColourRamp('FE_colramps', 1, 4.0);
	
	{QTM setup}
	SetQTMBaseProbability(50.0);
	SetQTMLength(2.0);
	SetQTMPresses(1);

	SetNextLevelByName('A14_SugarFactory');
	
	ForceWeatherType(WEATHER_RAINY, TRUE);
	SetMaxNumberOfRats(4);
	SwitchLitterOn(TRUE);

	{save / load}
	LevelState := 0;
	Load := false;
	Save1 := GetEntity('SavePoint_01');
	Save2 := GetEntity('SavePoint_02');
	if (Save1 = NIL) then
	begin
		LevelState := 1;
		Load := true;
	end;
	if (Save2 = NIL) then
	begin
		LevelState := 3;
		Load := true;
	end;	
	
	if (Save1 <> NIL) then DeactivateSavePoint(Save1);
	if (Save2 <> NIL) then DeactivateSavePoint(Save2);

	{gameplay setup}
	RunScript('A07_Tolerance_Zone', 'AssociateAreas');
	AIaddPlayer('player(player)');

	{************* INIT LEADER}
	AIaddEntity('leader(leader)');
	AIsetHunterOnRadar('leader(leader)', false);
	AIsetEntityAsLeader('leader(leader)');
	AIsetLeaderInvisible('leader(leader)');
	AIEntityAlwaysEnabled('leader(leader)');
	AIaddLeaderEnemy('leader(leader)', 'player(player)');
	{************* INIT LEADER}
	
	{************* INIT LEADER2}
	AIaddEntity('leader2(leader)');
	AIsetHunterOnRadar('leader2(leader)', false);
	AIsetEntityAsLeader('leader2(leader)');
	AIsetLeaderInvisible('leader2(leader)');
	AIEntityAlwaysEnabled('leader2(leader)');
	AIaddLeaderEnemy('leader2(leader)', 'player(player)');
	{************* INIT LEADER2}
	
	AIDefineGoalHuntEnemy('huntPlayer', 'player(player)', false, 5);

	{object setup}	
	{SetEntityScriptsFromEntity('TZ1_wall_lamp01_(L)', 'TZ1_wall_lamp02_(L)');}
	SetupCrawlTriggers;
	HideEntity(GetEntity('wiremesh_STATIC'));
 	SetDoorAngleInOut('museum_door_double11_(D)',125.0,90.0);
 	EntityPlayAnim(GetEntity('PFX13'), 'PAT_BURN04', false);
 	EntityPlayAnim(GetEntity('PFX14'), 'PAT_BURN04', false);
 	HideEntity(GetEntity('TZ_plankgap_col'));
 	HideEntity(GetEntity('FB_Wife'));
 	HideEntity(GetEntity('hooker1_fake'));
	HideEntity(GetEntity('hooker2_fake'));
	HideEntity(GetEntity('hooker3_fake'));
	HideEntity(GetEntity('hooker4_fake'));
	bDancerFlashbackInProgress := false;
 	
	RunScript('leader(leader)', 'onLevelStateSwitch'); {start Level}
end; {OnCreate}


script AssociateAreas;
begin
	AIClearAllActiveAreaAssociations;
	
	{ai01* - around start area before wire mesh
	 ai02 - basketball court
	 ai03* - underground area
	 ai04 - red light district
	 aidance - nodes for dancers in windows (no longer hunters, so no longer really necessary)
	 ai05* - porn shop + stairs
	 ai06 - balcony, fire escape
	 aicinema01 - safe house (no enemies - no associations)}
	
	AIAssociateFourActiveAreasWithPlayerArea('ai01','ai01a','ai01int','ai01start','ai02');
	AIAssociateFourActiveAreasWithPlayerArea('ai01a','ai01','ai01int','ai01start','ai02');
	AIAssociateFourActiveAreasWithPlayerArea('ai01int','ai01','ai01a','ai01start','ai02');
	AIAssociateThreeActiveAreasWithPlayerArea('ai01start','ai01','ai01a','ai01int');
	
	AIAssociateFourActiveAreasWithPlayerArea('ai02','ai01','ai01a','ai01int','ai03');
	AIAssociateThreeActiveAreasWithPlayerArea('ai03','ai02','ai03b','ai04');
	AIAssociateTwoActiveAreasWithPlayerArea('ai03b','ai03','ai04');

	AIAssociateOneActiveAreaWithPlayerArea('aidance','ai04');
	AIAssociateFourActiveAreasWithPlayerArea('ai04', 'ai03b','ai05', 'ai05b', 'aidance');
	AIAssociateThreeActiveAreasWithPlayerArea('ai05', 'ai04', 'ai05b', 'ai06');
	AIAssociateThreeActiveAreasWithPlayerArea('ai05b', 'ai04', 'ai05', 'ai06');
	AIAssociateThreeActiveAreasWithPlayerArea('ai06', 'ai04', 'ai05', 'ai05b');
		
end;

{FUNCTIONS & PROCEDURES +++++++++++++++++++++++++++++++++ FUNCTIONS & PROCEDURES}

PROCEDURE SetDoorAngleInOut;
var
	door : EntityPtr;
begin
 	door := getEntity(DoorName);
 	SetDoorOpenAngleIn(door, InAngle);
 	SetDoorOpenAngleOut(door, OutAngle);
end;

procedure SetupCrawlTriggers;
var
	pos, pos2 : vec3d;
begin
	{wire mesh near the start}
	SetVector(pos, 57.1436, 0.0, 28.6723);
	SetVector(pos2, 56.4655, 0.0, 28.6723);
	CreateCrawlTrigger(pos, pos2, 'tCrawlWireMesh');
	{porn shop - under the cubicle walls}
	SetVector(pos, 26.0318, -0.295809, -26.0971);
	SetVector(pos2, 26.0318, -0.295809, -25.5939);
	CreateCrawlTrigger(pos, pos2, 'tCrawlCubicleA');
	SetVector(pos, 26.0318, -0.295809, -24.3024);
	SetVector(pos2, 26.0318, -0.295809, -23.7993);
	CreateCrawlTrigger(pos, pos2, 'tCrawlCubicleB');
end;

end.


        ";

        $expected = [
            "10000000",
            "0a000000",
            "11000000",
            "0a000000",
            "09000000",
            "34000000",
            "09000000",
            "04000000",
            "13000000",
            "01000000",
            "04000000",
            "ecffffff",
            "12000000",
            "02000000",
            "00000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "15000000",
            "04000000",
            "04000000",
            "01000000",
            "13000000",
            "01000000",
            "04000000",
            "04000000",
            "10000000",
            "01000000",
            "13000000",
            "01000000",
            "04000000",
            "f0ffffff",
            "10000000",
            "01000000",
            "d3010000",
            "13000000",
            "01000000",
            "04000000",
            "04000000",
            "10000000",
            "01000000",
            "13000000",
            "01000000",
            "04000000",
            "f4ffffff",
            "10000000",
            "01000000",
            "d4010000",
            "11000000",
            "09000000",
            "0a000000",
            "0f000000",
            "0a000000",
            "3a000000",
            "10000000",
            "10000000",
            "0a000000",
            "11000000",
            "0a000000",
            "09000000",
            "34000000",
            "09000000",
            "18000000",
            "22000000",
            "04000000",
            "01000000",
            "0c000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "0c936442",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "00000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "df60e541",
            "10000000",
            "01000000",
            "84010000",
            "22000000",
            "04000000",
            "01000000",
            "18000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "acdc6142",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "00000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "df60e541",
            "10000000",
            "01000000",
            "84010000",
            "22000000",
            "04000000",
            "01000000",
            "0c000000",
            "10000000",
            "01000000",
            "22000000",
            "04000000",
            "01000000",
            "18000000",
            "10000000",
            "01000000",
            "21000000",
            "04000000",
            "01000000",
            "d4010000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "d8030000",
            "22000000",
            "04000000",
            "01000000",
            "0c000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "2041d041",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "4774973e",
            "10000000",
            "01000000",
            "4f000000",
            "32000000",
            "09000000",
            "04000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "dcc6d041",
            "10000000",
            "01000000",
            "4f000000",
            "32000000",
            "09000000",
            "04000000",
            "10000000",
            "01000000",
            "84010000",
            "22000000",
            "04000000",
            "01000000",
            "18000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "2041d041",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "4774973e",
            "10000000",
            "01000000",
            "4f000000",
            "32000000",
            "09000000",
            "04000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "4fc0cc41",
            "10000000",
            "01000000",
            "4f000000",
            "32000000",
            "09000000",
            "04000000",
            "10000000",
            "01000000",
            "84010000",
            "22000000",
            "04000000",
            "01000000",
            "0c000000",
            "10000000",
            "01000000",
            "22000000",
            "04000000",
            "01000000",
            "18000000",
            "10000000",
            "01000000",
            "21000000",
            "04000000",
            "01000000",
            "e4010000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "d8030000",
            "22000000",
            "04000000",
            "01000000",
            "0c000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "2041d041",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "4774973e",
            "10000000",
            "01000000",
            "4f000000",
            "32000000",
            "09000000",
            "04000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "516bc241",
            "10000000",
            "01000000",
            "4f000000",
            "32000000",
            "09000000",
            "04000000",
            "10000000",
            "01000000",
            "84010000",
            "22000000",
            "04000000",
            "01000000",
            "18000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "2041d041",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "4774973e",
            "10000000",
            "01000000",
            "4f000000",
            "32000000",
            "09000000",
            "04000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "f764be41",
            "10000000",
            "01000000",
            "4f000000",
            "32000000",
            "09000000",
            "04000000",
            "10000000",
            "01000000",
            "84010000",
            "22000000",
            "04000000",
            "01000000",
            "0c000000",
            "10000000",
            "01000000",
            "22000000",
            "04000000",
            "01000000",
            "18000000",
            "10000000",
            "01000000",
            "21000000",
            "04000000",
            "01000000",
            "f4010000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "d8030000",
            "11000000",
            "09000000",
            "0a000000",
            "0f000000",
            "0a000000",
            "3a000000",
            "04000000",
            "10000000",
            "0a000000",
            "11000000",
            "0a000000",
            "09000000",
            "34000000",
            "09000000",
            "08000000",
            "12000000",
            "01000000",
            "26000000",
            "10000000",
            "01000000",
            "59030000",
            "21000000",
            "04000000",
            "01000000",
            "00000000",
            "12000000",
            "02000000",
            "0c000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "12000000",
            "01000000",
            "01000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "00008040",
            "10000000",
            "01000000",
            "ab030000",
            "12000000",
            "01000000",
            "00004842",
            "10000000",
            "01000000",
            "ac030000",
            "12000000",
            "01000000",
            "00000040",
            "10000000",
            "01000000",
            "ad030000",
            "12000000",
            "01000000",
            "01000000",
            "10000000",
            "01000000",
            "ae030000",
            "21000000",
            "04000000",
            "01000000",
            "10000000",
            "12000000",
            "02000000",
            "11000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "4c030000",
            "12000000",
            "01000000",
            "02000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "01000000",
            "10000000",
            "01000000",
            "a6020000",
            "12000000",
            "01000000",
            "04000000",
            "10000000",
            "01000000",
            "a8020000",
            "12000000",
            "01000000",
            "01000000",
            "10000000",
            "01000000",
            "a4020000",
            "12000000",
            "01000000",
            "00000000",
            "16000000",
            "04000000",
            "04020000",
            "01000000",
            "12000000",
            "01000000",
            "00000000",
            "16000000",
            "04000000",
            "08020000",
            "01000000",
            "21000000",
            "04000000",
            "01000000",
            "24000000",
            "12000000",
            "02000000",
            "0d000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "15000000",
            "04000000",
            "04000000",
            "01000000",
            "21000000",
            "04000000",
            "01000000",
            "34000000",
            "12000000",
            "02000000",
            "0d000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "15000000",
            "04000000",
            "08000000",
            "01000000",
            "13000000",
            "01000000",
            "04000000",
            "04000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "00000000",
            "0f000000",
            "04000000",
            "23000000",
            "04000000",
            "01000000",
            "12000000",
            "01000000",
            "01000000",
            "3f000000",
            "84070000",
            "33000000",
            "01000000",
            "01000000",
            "24000000",
            "01000000",
            "00000000",
            "3f000000",
            "d0070000",
            "12000000",
            "01000000",
            "01000000",
            "16000000",
            "04000000",
            "04020000",
            "01000000",
            "12000000",
            "01000000",
            "01000000",
            "16000000",
            "04000000",
            "08020000",
            "01000000",
            "13000000",
            "01000000",
            "04000000",
            "08000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "00000000",
            "0f000000",
            "04000000",
            "23000000",
            "04000000",
            "01000000",
            "12000000",
            "01000000",
            "01000000",
            "3f000000",
            "28080000",
            "33000000",
            "01000000",
            "01000000",
            "24000000",
            "01000000",
            "00000000",
            "3f000000",
            "74080000",
            "12000000",
            "01000000",
            "03000000",
            "16000000",
            "04000000",
            "04020000",
            "01000000",
            "12000000",
            "01000000",
            "01000000",
            "16000000",
            "04000000",
            "08020000",
            "01000000",
            "13000000",
            "01000000",
            "04000000",
            "04000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "00000000",
            "0f000000",
            "04000000",
            "23000000",
            "04000000",
            "01000000",
            "12000000",
            "01000000",
            "01000000",
            "40000000",
            "cc080000",
            "33000000",
            "01000000",
            "01000000",
            "24000000",
            "01000000",
            "00000000",
            "3f000000",
            "fc080000",
            "13000000",
            "01000000",
            "04000000",
            "04000000",
            "10000000",
            "01000000",
            "12030000",
            "13000000",
            "01000000",
            "04000000",
            "08000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "00000000",
            "0f000000",
            "04000000",
            "23000000",
            "04000000",
            "01000000",
            "12000000",
            "01000000",
            "01000000",
            "40000000",
            "54090000",
            "33000000",
            "01000000",
            "01000000",
            "24000000",
            "01000000",
            "00000000",
            "3f000000",
            "84090000",
            "13000000",
            "01000000",
            "04000000",
            "08000000",
            "10000000",
            "01000000",
            "12030000",
            "21000000",
            "04000000",
            "01000000",
            "44000000",
            "12000000",
            "02000000",
            "13000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "58000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "e4000000",
            "21000000",
            "04000000",
            "01000000",
            "68000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "5b010000",
            "21000000",
            "04000000",
            "01000000",
            "78000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "4d010000",
            "21000000",
            "04000000",
            "01000000",
            "78000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "12000000",
            "01000000",
            "00000000",
            "10000000",
            "01000000",
            "a8010000",
            "21000000",
            "04000000",
            "01000000",
            "78000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "4f010000",
            "21000000",
            "04000000",
            "01000000",
            "78000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "6d020000",
            "21000000",
            "04000000",
            "01000000",
            "78000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "bf010000",
            "21000000",
            "04000000",
            "01000000",
            "78000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "68000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "54010000",
            "21000000",
            "04000000",
            "01000000",
            "88000000",
            "12000000",
            "02000000",
            "10000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "4d010000",
            "21000000",
            "04000000",
            "01000000",
            "88000000",
            "12000000",
            "02000000",
            "10000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "12000000",
            "01000000",
            "00000000",
            "10000000",
            "01000000",
            "a8010000",
            "21000000",
            "04000000",
            "01000000",
            "88000000",
            "12000000",
            "02000000",
            "10000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "4f010000",
            "21000000",
            "04000000",
            "01000000",
            "88000000",
            "12000000",
            "02000000",
            "10000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "6d020000",
            "21000000",
            "04000000",
            "01000000",
            "88000000",
            "12000000",
            "02000000",
            "10000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "bf010000",
            "21000000",
            "04000000",
            "01000000",
            "88000000",
            "12000000",
            "02000000",
            "10000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "68000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "54010000",
            "21000000",
            "04000000",
            "01000000",
            "9c000000",
            "12000000",
            "02000000",
            "0b000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "68000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "12000000",
            "01000000",
            "00000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "05000000",
            "10000000",
            "01000000",
            "58010000",
            "10000000",
            "04000000",
            "11000000",
            "02000000",
            "00000000",
            "32000000",
            "02000000",
            "1c000000",
            "10000000",
            "02000000",
            "39000000",
            "e4000000",
            "21000000",
            "04000000",
            "01000000",
            "a8000000",
            "12000000",
            "02000000",
            "10000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "10000000",
            "01000000",
            "83000000",
            "21000000",
            "04000000",
            "01000000",
            "bc000000",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "0000fa42",
            "10000000",
            "01000000",
            "12000000",
            "01000000",
            "0000b442",
            "10000000",
            "01000000",
            "10000000",
            "04000000",
            "11000000",
            "02000000",
            "00000000",
            "32000000",
            "02000000",
            "1c000000",
            "10000000",
            "02000000",
            "39000000",
            "00000000",
            "21000000",
            "04000000",
            "01000000",
            "d8000000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "10000000",
            "01000000",
            "21000000",
            "04000000",
            "01000000",
            "e0000000",
            "12000000",
            "02000000",
            "0b000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "12000000",
            "01000000",
            "00000000",
            "10000000",
            "01000000",
            "a1010000",
            "21000000",
            "04000000",
            "01000000",
            "ec000000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "10000000",
            "01000000",
            "21000000",
            "04000000",
            "01000000",
            "e0000000",
            "12000000",
            "02000000",
            "0b000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "12000000",
            "01000000",
            "00000000",
            "10000000",
            "01000000",
            "a1010000",
            "21000000",
            "04000000",
            "01000000",
            "f4000000",
            "12000000",
            "02000000",
            "10000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "10000000",
            "01000000",
            "83000000",
            "21000000",
            "04000000",
            "01000000",
            "08010000",
            "12000000",
            "02000000",
            "08000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "10000000",
            "01000000",
            "83000000",
            "21000000",
            "04000000",
            "01000000",
            "14010000",
            "12000000",
            "02000000",
            "0d000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "10000000",
            "01000000",
            "83000000",
            "21000000",
            "04000000",
            "01000000",
            "24010000",
            "12000000",
            "02000000",
            "0d000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "10000000",
            "01000000",
            "83000000",
            "21000000",
            "04000000",
            "01000000",
            "34010000",
            "12000000",
            "02000000",
            "0d000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "10000000",
            "01000000",
            "83000000",
            "21000000",
            "04000000",
            "01000000",
            "44010000",
            "12000000",
            "02000000",
            "0d000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "77000000",
            "10000000",
            "01000000",
            "83000000",
            "12000000",
            "01000000",
            "00000000",
            "16000000",
            "04000000",
            "14020000",
            "01000000",
            "21000000",
            "04000000",
            "01000000",
            "78000000",
            "12000000",
            "02000000",
            "0f000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "54010000",
            "12000000",
            "02000000",
            "13000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "e4000000",
            "11000000",
            "09000000",
            "0a000000",
            "0f000000",
            "0a000000",
            "3b000000",
            "00000000",
            "10000000",
            "0a000000",
            "11000000",
            "0a000000",
            "09000000",
            "ba010000",
            "21000000",
            "04000000",
            "01000000",
            "68010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "70010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "78010000",
            "12000000",
            "02000000",
            "08000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "84010000",
            "12000000",
            "02000000",
            "0a000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "90010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "be010000",
            "21000000",
            "04000000",
            "01000000",
            "70010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "68010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "78010000",
            "12000000",
            "02000000",
            "08000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "84010000",
            "12000000",
            "02000000",
            "0a000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "90010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "be010000",
            "21000000",
            "04000000",
            "01000000",
            "78010000",
            "12000000",
            "02000000",
            "08000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "68010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "70010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "84010000",
            "12000000",
            "02000000",
            "0a000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "90010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "be010000",
            "21000000",
            "04000000",
            "01000000",
            "84010000",
            "12000000",
            "02000000",
            "0a000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "68010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "70010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "78010000",
            "12000000",
            "02000000",
            "08000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "bd010000",
            "21000000",
            "04000000",
            "01000000",
            "90010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "68010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "70010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "78010000",
            "12000000",
            "02000000",
            "08000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "98010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "be010000",
            "21000000",
            "04000000",
            "01000000",
            "98010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "90010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "a0010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "a8010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "bd010000",
            "21000000",
            "04000000",
            "01000000",
            "a0010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "98010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "a8010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "bc010000",
            "21000000",
            "04000000",
            "01000000",
            "b0010000",
            "12000000",
            "02000000",
            "08000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "a8010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "bb010000",
            "21000000",
            "04000000",
            "01000000",
            "a8010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "a0010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "bc010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "c4010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "b0010000",
            "12000000",
            "02000000",
            "08000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "be010000",
            "21000000",
            "04000000",
            "01000000",
            "bc010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "a8010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "c4010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "cc010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "bd010000",
            "21000000",
            "04000000",
            "01000000",
            "c4010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "a8010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "bc010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "cc010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "bd010000",
            "21000000",
            "04000000",
            "01000000",
            "cc010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "a8010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "bc010000",
            "12000000",
            "02000000",
            "05000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "21000000",
            "04000000",
            "01000000",
            "c4010000",
            "12000000",
            "02000000",
            "06000000",
            "10000000",
            "01000000",
            "10000000",
            "02000000",
            "bd010000",
            "11000000",
            "09000000",
            "0a000000",
            "0f000000",
            "0a000000",
            "3b000000",
            "00000000"
        ];

        $compiler = new \App\Service\CompilerV2\Compiler($script, MHT::GAME_MANHUNT_2, MHT::PLATFORM_PC, false);
        $compiled = $compiler->compile();

        if ($compiler->validateCode($expected) === false){

            foreach ($compiled['CODE'] as $index => $newCode) {

                if ($expected[$index] == $newCode['code']){
                    echo $index . " " . $newCode['code'] . ' -> ' . $newCode['msg'] . "\n";

                }else{
                    echo "MISMATCH: Need: " . $expected[$index] . ' Got: ' . $newCode['code'] . ' -> ' . $newCode['msg']. "\n";

                }
            }
        }else{
            $this->assertEquals(true,true);
        }
    }

}